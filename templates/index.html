<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Resize Images</title>
    <link href="{{ url_for('static', path='/styles/styles.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/b0057c069b.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  </head>

  <body>
    
    <header>
      <nav class = "title">
        <div class= "content">
          Image Compression
        </div>
      </nav>
    </header>

    <main>
      
      <div class = "first">
        <p> Input Your Image </p>

        <form class = "choice">
          <div class = "choice_first"> <input type="file" id="upload" accept=".jpg, .jpeg, .png" class="open_file" name="image"/> </div>
          <div class = "choice_second"> Image Compression Ratio : <input type="text" id="inputPercentage" name="inputPercentage"/> % </div>
          <div class = "choice_third"> <button onclick="process_image_compression()" class = "go"> Go !</button> </div>
        </form>
      </div>

      <div class = "second"> 
        <div class= "before">
          <p>Before</p>
          <img id="input" src="{{ url_for('static', path='/image/empty-image.png') }}" alt="FASTApi">
        </div>
        <div class= "after">
          <p>After</p>
          <img id="output" src="{{ url_for('static', path='/image/empty-image.png') }}" alt="FASTApi">
        </div>
      </div>

      <div class = "third"> 
        <div class= "left">
          <div class="text_left" >Image pixel difference percentage : <span id="outputPercentage"></span> </div>
          <div class="text_left">Image compression time : <span id="outputTime"></span> </div>
        </div>
        <div class= "right">
          <button id="download" class="btn"><i class="fa fa-download"></i> Download</button>
        </div>
      </div>

    </main>

    <script  src="{{ url_for('static', path='/js/FileSaver.min.js') }}"></script>
    <script  src="{{ url_for('static', path='/js/processDownload.js') }}"></script>
    <script  src="{{ url_for('static', path='/js/processImageCompression.js') }}"></script>

  </body>
</html>